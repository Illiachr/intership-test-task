{"version":3,"sources":["webpack:///./module/removeEvent.js","webpack:///webpack/runtime/getFullHash"],"names":["removeEvent","events","eventSlot","eventSlotChildren","children","eventIndex","findIndex","event","id","dataset","eventId","splice","removeAttribute","classList","remove","classes","add","textContent","style","display","localStorage","eventStore","JSON","stringify","modalId","elem","popup","document","getElementById","closePopup","args","removeEventListener","clickHandler","e","target","name","removeEventApi","closest","contains","addEventListener","entityName","deleteData","res","console","log","status","warn"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD,EAASC,SAAT,EAAuB;AACzC,MAAMC,iBAAiB,GAAGD,SAAS,CAACE,QAApC;AACA,MAAMC,UAAU,GAAGJ,MAAM,CAACK,SAAP,CAAiB,UAAAC,KAAK;AAAA,WAAIA,KAAK,CAACC,EAAN,KAAaN,SAAS,CAACO,OAAV,CAAkBC,OAAnC;AAAA,GAAtB,CAAnB;AACAT,QAAM,CAACU,MAAP,CAAcN,UAAd,EAA0B,CAA1B;AACAH,WAAS,CAACU,eAAV,CAA0B,eAA1B;AACAV,WAAS,CAACU,eAAV,CAA0B,WAA1B;AACAV,WAAS,CAACW,SAAV,CAAoBC,MAApB,CAA2BC,0DAA3B;AACAb,WAAS,CAACW,SAAV,CAAoBG,GAApB,CAAwBD,2DAAxB;AACAZ,mBAAiB,CAAC,CAAD,CAAjB,CAAqBc,WAArB,GAAmC,EAAnC;AACAd,mBAAiB,CAAC,CAAD,CAAjB,CAAqBe,KAArB,CAA2BC,OAA3B,GAAqC,MAArC;AACAC,cAAY,CAACC,UAAb,GAA0BC,IAAI,CAACC,SAAL,CAAetB,MAAf,CAA1B;AACD,CAXD,C,CAWG;;;AAEH,+DAAe,UAACuB,OAAD,EAAUC,IAAV,EAAgBxB,MAAhB,EAA2B;AACxC,MAAMyB,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,OAAxB,CAAd;AAEAE,OAAK,CAACb,SAAN,CAAgBG,GAAhB,CAAoBD,2DAApB;;AAEA,MAAMc,UAAU,GAAG,SAAbA,UAAa,GAAa;AAAA,sCAATC,IAAS;AAATA,UAAS;AAAA;;AAC9BJ,SAAK,CAACK,mBAAN,CAA0B,OAA1B,EAAmCD,IAAI,CAACE,YAAxC;AACAN,SAAK,CAACb,SAAN,CAAgBC,MAAhB,CAAuBC,2DAAvB;AACD,GAHD;;AAKA,MAAMiB,YAAY,GAAG,SAAfA,YAAe,CAAAC,CAAC,EAAI;AAAA,QAChBC,MADgB,GACLD,CADK,CAChBC,MADgB;;AAGxB,QAAIA,MAAM,CAACC,IAAP,KAAgB,KAApB,EAA2B;AACzBC,oBAAc,CAAC,QAAD,EAAWnC,MAAX,EAAmBwB,IAAnB,CAAd;AACAI,gBAAU,CAACG,YAAD,CAAV;AACD;;AAED,QAAIE,MAAM,CAACG,OAAP,YAAmBtB,4DAAnB,MACImB,MAAM,CAACrB,SAAP,CAAiByB,QAAjB,CAA0BvB,2DAA1B,CADR,EAEE;AACAc,gBAAU,CAACG,YAAD,CAAV;AACD;AACF,GAbD;;AAeAN,OAAK,CAACa,gBAAN,CAAuB,OAAvB,EAAgCP,YAAhC;AACD,CA1BD;;SA4BeI,c;;;;;4EAAf,iBAA8BI,UAA9B,EAA0CvC,MAA1C,EAAkDwB,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEsBgB,8DAAU,CAACD,UAAD,EAAaf,IAAI,CAAChB,OAAL,CAAaC,OAA1B,CAFhC;;AAAA;AAEUgC,eAFV;AAGIC,mBAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,gBAAIA,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACtB7C,yBAAW,CAACC,MAAD,EAASwB,IAAT,CAAX;AACD;;AANL;AAAA;;AAAA;AAAA;AAAA;AAQIkB,mBAAO,CAACG,IAAR;;AARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;;;;;;;;;WC5CA,oCAAoC,+BAA+B,E","file":"main.28664e912df842784deb.hot-update.js","sourcesContent":["import { deleteData } from './apiUtils/apiUtils';\r\nimport { classes } from './auxiliary';\r\n\r\nconst removeEvent = (events, eventSlot) => {\r\n  const eventSlotChildren = eventSlot.children;\r\n  const eventIndex = events.findIndex(event => event.id === eventSlot.dataset.eventId);\r\n  events.splice(eventIndex, 1);\r\n  eventSlot.removeAttribute('data-event-id');\r\n  eventSlot.removeAttribute('draggable');\r\n  eventSlot.classList.remove(classes.slotBooked);\r\n  eventSlot.classList.add(classes.triggerOpen);\r\n  eventSlotChildren[0].textContent = '';\r\n  eventSlotChildren[1].style.display = 'none';\r\n  localStorage.eventStore = JSON.stringify(events);\r\n}; // end removeEvent\r\n\r\nexport default (modalId, elem, events) => {\r\n  const popup = document.getElementById(modalId);\r\n\r\n  popup.classList.add(classes.modalActive);\r\n\r\n  const closePopup = (...args) => {\r\n    popup.removeEventListener('click', args.clickHandler);\r\n    popup.classList.remove(classes.modalActive);\r\n  };\r\n\r\n  const clickHandler = e => {\r\n    const { target } = e;\r\n\r\n    if (target.name === 'yes') {\r\n      removeEventApi('events', events, elem);\r\n      closePopup(clickHandler);\r\n    }\r\n\r\n    if (target.closest(`.${classes.triggerClose}`) ||\r\n            target.classList.contains(classes.modalActive)\r\n    ) {\r\n      closePopup(clickHandler);\r\n    }\r\n  };\r\n\r\n  popup.addEventListener('click', clickHandler);\r\n};\r\n\r\nasync function removeEventApi(entityName, events, elem) {\r\n  try {\r\n    const res = await deleteData(entityName, elem.dataset.eventId);\r\n    console.log(res);\r\n    if (res.status === 204) {\r\n      removeEvent(events, elem);\r\n    }\r\n  } catch (err) {\r\n    console.warn(err);\r\n  }\r\n}\r\n","__webpack_require__.h = function() { return \"b7651ccba8b8e8989cde\"; }"],"sourceRoot":""}