{"version":3,"sources":["webpack:///./module/UI/select/select.js","webpack:///webpack/runtime/getFullHash"],"names":["classes","base","selected","open","close","arrowRight","arrowDown","dropDown","getTemplate","props","defVal","defaultValue","items","data","map","item","cls","selectedId","id","value","join","Select","selector","options","multi","elem","document","querySelector","defaultSeleted","selectedItems","init","render","setup","classList","add","insertAdjacentHTML","clickHandler","bind","addEventListener","arrow","reduce","total","push","e","target","type","dataset","input","closest","toggle","multiSelect","select","remove","selectionResult","contains","find","findIndex","current","textContent","querySelectorAll","forEach","el","length","splice","isSelected","selectedItem","console","log","onSelect","isOpen","removeEventListener"],"mappings":"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","file":"main.2e85a98b5b626d1b23c0.hot-update.js","sourcesContent":["const classes = {\r\n  base: 'select',\r\n  selected: 'selected',\r\n  open: 'select--open',\r\n  close: 'select--close',\r\n  arrowRight: 'fa-chevron-right',\r\n  arrowDown: 'fa-chevron-down',\r\n  dropDown: 'select__dropdown',\r\n};\r\n\r\nconst getTemplate = props => {\r\n  let defVal = props.defaultValue ?? 'Choose option...';\r\n  const items = props.data.map(item => {\r\n    let cls = '';\r\n    if (props.selectedId && item.id === props.selectedId) {\r\n      defVal = item.value;\r\n      cls = classes.selected;\r\n    }\r\n    return `\r\n            <li class=\"${classes.dropDown}-item ${cls}\"\r\n                data-type=\"item\"\r\n                data-id=\"${item.id}\"\r\n            >\r\n                <span>${item.value}</span>\r\n                <span>user</span>\r\n            </li>\r\n        `;\r\n  });\r\n\r\n  return `        \r\n            <div class=\"${classes.base}__backdrop\" data-type=\"backdrop\"></div>\r\n            <div class=\"${classes.base}__wrapper\">\r\n                <div class=\"${classes.base}__input\" data-type=\"input\" data-action=\"toggle\">\r\n                    <span data-type=\"value\">${defVal}</span>\r\n                    <span class=\"fas fa-chevron-right\" data-type=\"arrow\"></span>\r\n                </div>\r\n                <div class=\"${classes.dropDown}\">\r\n                    <ul class=\"${classes.dropDown}-list\">\r\n                        ${items.join('')}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n    `;\r\n};\r\n\r\nexport default class Select {\r\n  constructor(selector, options, multi = false) {\r\n    this.elem = document.querySelector(selector);\r\n    this.options = options;\r\n    this.multi = multi;\r\n    this.selectedId = options.defaultSeleted;\r\n    this.selectedItems = [];\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.render();\r\n    this.setup();\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.options;\r\n    this.elem.classList.add('select');\r\n    this.elem.insertAdjacentHTML('beforeend', getTemplate({\r\n      data,\r\n      selectedId: this.selectedId,\r\n    }));\r\n  }\r\n\r\n  setup() {\r\n    const { data } = this.options;\r\n    this.clickHandler = this.clickHandler.bind(this);\r\n    this.elem.addEventListener('click', this.clickHandler);\r\n    this.arrow = this.elem.querySelector('[data-type=\"arrow\"]');\r\n    this.value = this.elem.querySelector('[data-type=\"value\"]');\r\n    this.selectedItems = data.reduce((total, item) => {\r\n      if (item.id === this.selectedId) {\r\n        total.push(item.value);\r\n      }\r\n      return total;\r\n    }, []);\r\n  }\r\n\r\n  clickHandler(e) {\r\n    const { target } = e;\r\n    const { type } = target.dataset;\r\n    const input = target.closest('[data-type=\"input\"]');\r\n    if (input) {\r\n      this.toggle();\r\n    }\r\n\r\n    if (type === 'item') {\r\n      if (this.multi) {\r\n        this.multiSelect(target.dataset.id);\r\n      } else { this.select(target.dataset.id); }\r\n    }\r\n\r\n    if (type === 'backdrop') {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  open() {\r\n    this.arrow.classList.remove(classes.arrowRight);\r\n    this.arrow.classList.add(classes.arrowDown);\r\n    this.elem.classList.add(classes.open);\r\n  }\r\n\r\n  close() {\r\n    this.arrow.classList.remove(classes.arrowDown);\r\n    this.arrow.classList.add(classes.arrowRight);\r\n    this.elem.classList.remove(classes.open);\r\n\r\n    this.selectionResult();\r\n  }\r\n\r\n  get isOpen() {\r\n    return this.elem.classList.contains(classes.open);\r\n  }\r\n\r\n  get current() {\r\n    return this.options.data.find(item => item.id === this.selectedId);\r\n  }\r\n\r\n  get isSelected() {\r\n    return this.selectedItems.findIndex(item => item === this.current.value);\r\n  }\r\n\r\n  select(id) {\r\n    this.selectedId = id;\r\n    this.value.textContent = this.current.value;\r\n\r\n    this.elem.querySelectorAll('[data-type=\"item\"]').forEach(el => {\r\n      el.classList.remove('selected');\r\n    });\r\n    this.elem.querySelector(`[data-id=\"${id}\"]`).classList.add('selected');\r\n    this.close();\r\n  }\r\n\r\n  multiSelect(id) {\r\n    if (this.selectedItems.length <= 1 && this.selectedItems[0] === 'All members') {\r\n      this.elem.querySelector(`[data-id=\"${this.selectedId}\"]`).classList.remove(classes.selected);\r\n      this.selectedItems.splice(this.isSelected, 1);\r\n      this.elem.querySelectorAll('[data-type=\"item\"]').forEach(elem => {\r\n        elem.classList.remove(classes.selected);\r\n      });\r\n    }\r\n    this.selectedId = id;\r\n    const selectedItem = this.elem.querySelector(`[data-id=\"${this.selectedId}\"]`);\r\n    if (this.selectedId === '0' && !selectedItem.classList.contains(classes.selected)) {\r\n      console.log(id);\r\n      this.selectedItems = [];\r\n      this.selectedItems.push(this.current.value);\r\n      this.elem.querySelectorAll('[data-type=\"item\"]').forEach(elem => {\r\n        elem.classList.add(classes.selected);\r\n      });\r\n      this.value.textContent = this.selectedItems.join(', ');\r\n      return;\r\n    }\r\n    if (this.isSelected < 0) {\r\n      this.selectedItems.push(this.current.value);\r\n      selectedItem.classList.add(classes.selected);\r\n    } else if (this.selectedItems.length > 1) {\r\n      console.log(this.selectedItems.length);\r\n      this.selectedItems.splice(this.isSelected, 1);\r\n      selectedItem.classList.remove(classes.selected);\r\n    }\r\n    this.value.textContent = this.selectedItems.join(', ');\r\n  }\r\n\r\n  selectionResult() {\r\n    if (this.options.onSelect) {\r\n      if (this.multi) {\r\n        this.options.onSelect(this.selectedItems);\r\n      } else { this.options.onSelect(this.current); }\r\n    }\r\n  }\r\n\r\n  toggle() {\r\n    if (this.isOpen) {\r\n      this.close();\r\n    } else { this.open(); }\r\n  }\r\n\r\n  destroy() {\r\n    this.elem.removeEventListener('click', this.clickHandler);\r\n    this.elem.textContent = '';\r\n  }\r\n}\r\n","__webpack_require__.h = function() { return \"9f12d06aa28101580104\"; }"],"sourceRoot":""}