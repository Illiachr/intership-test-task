{"version":3,"sources":["webpack:///./module/login.js","webpack:///webpack/runtime/getFullHash"],"names":["modalId","popup","document","getElementById","dataLayer","DataLayer","currentUser","name","role","classList","add","classes","userSelect","Select","label","placeholder","defaultSeleted","data","id","value","users","onSelect","user","closePopup","args","removeEventListener","clickHandler","remove","e","target","console","log","User","init","admin","Admin","addEventListener"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,+DAAe,UAAAA,OAAO,EAAI;AACxB,MAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwBH,OAAxB,CAAd;AACA,MAAMI,SAAS,GAAG,IAAIC,yDAAJ,EAAlB;AACA,MAAMC,WAAW,GAAG;AAClBC,QAAI,EAAE,IADY;AAElBC,QAAI,EAAE;AAFY,GAApB;AAIAP,OAAK,CAACQ,SAAN,CAAgBC,GAAhB,CAAoBC,2DAApB,EAPwB,CAQxB;;AACA,MAAMC,UAAU,GAAG,IAAIC,qDAAJ,CAAW,cAAX,EAA2B;AAC5CC,SAAK,EAAE,aADqC;AAE5CC,eAAW,EAAE,kBAF+B;AAG5CC,kBAAc,EAAE,GAH4B;AAI5CC,QAAI,GACF;AAAEC,QAAE,EAAE,GAAN;AAAWC,WAAK,EAAE;AAAlB,KADE,4BAECf,SAAS,CAACgB,KAFX,EAJwC;AAQ5CC,YAR4C,oBAQnCC,IARmC,EAQ7B;AACbhB,iBAAW,CAACC,IAAZ,GAAmBe,IAAI,CAACH,KAAxB;AACAb,iBAAW,CAACE,IAAZ,GAAmBc,IAAI,CAACd,IAAxB;AACD;AAX2C,GAA3B,CAAnB;;AAcA,MAAMe,UAAU,GAAG,SAAbA,UAAa,GAAa;AAAA,sCAATC,IAAS;AAATA,UAAS;AAAA;;AAC9BvB,SAAK,CAACwB,mBAAN,CAA0B,OAA1B,EAAmCD,IAAI,CAACE,YAAxC;AACAzB,SAAK,CAACQ,SAAN,CAAgBkB,MAAhB,CAAuBhB,2DAAvB;AACD,GAHD;;AAKA,MAAMe,YAAY,GAAG,SAAfA,YAAe,CAAAE,CAAC,EAAI;AACxB,QAAIA,CAAC,CAACC,MAAF,CAAStB,IAAT,KAAkB,OAAlB,IACAD,WAAW,CAACC,IADZ,IAEAD,WAAW,CAACE,IAFhB,EAEsB;AACpBe,gBAAU,CAACG,YAAD,CAAV;;AAEA,UAAIpB,WAAW,CAACE,IAAZ,KAAqB,MAAzB,EAAiC;AAC/BsB,eAAO,CAACC,GAAR,CAAY3B,SAAS,CAACgB,KAAtB;AACA,YAAME,IAAI,GAAG,IAAIU,+CAAJ,CAAS1B,WAAT,EAAsB,MAAtB,CAAb;AACAgB,YAAI,CAACW,IAAL;AACD,OAJD,MAIO;AACL,YAAMC,KAAK,GAAG,IAAIC,gDAAJ,CAAU7B,WAAV,EAAuB,MAAvB,CAAd;AACA4B,aAAK,CAACD,IAAN;AACD;AACF;AACF,GAfD;;AAiBAhC,OAAK,CAACmC,gBAAN,CAAuB,OAAvB,EAAgCV,YAAhC;AACD,CA9CD,E;;;;;;;;;;WCPA,oCAAoC,+BAA+B,E","file":"main.c4c1a189c8e7031d66d7.hot-update.js","sourcesContent":["/* eslint-disable no-param-reassign */\r\nimport { classes } from './auxiliary';\r\nimport DataLayer from './DataLayer/DataLayer';\r\nimport { Select } from './UI/Select/Select';\r\nimport Admin from './User/Admin';\r\nimport User from './User/User';\r\n\r\nexport default modalId => {\r\n  const popup = document.getElementById(modalId);\r\n  const dataLayer = new DataLayer();\r\n  const currentUser = {\r\n    name: null,\r\n    role: null,\r\n  };\r\n  popup.classList.add(classes.modalActive);\r\n  // eslint-disable-next-line no-unused-vars\r\n  const userSelect = new Select('#user-select', {\r\n    label: 'user-select',\r\n    placeholder: 'Choose member...',\r\n    defaultSeleted: '0',\r\n    data: [\r\n      { id: '0', value: 'Choose user name' },\r\n      ...dataLayer.users,\r\n    ],\r\n    onSelect(user) {\r\n      currentUser.name = user.value;\r\n      currentUser.role = user.role;\r\n    },\r\n  });\r\n\r\n  const closePopup = (...args) => {\r\n    popup.removeEventListener('click', args.clickHandler);\r\n    popup.classList.remove(classes.modalActive);\r\n  };\r\n\r\n  const clickHandler = e => {\r\n    if (e.target.name === 'login' &&\r\n        currentUser.name &&\r\n        currentUser.role) {\r\n      closePopup(clickHandler);\r\n\r\n      if (currentUser.role === 'user') {\r\n        console.log(dataLayer.users);\r\n        const user = new User(currentUser, '.app');\r\n        user.init();\r\n      } else {\r\n        const admin = new Admin(currentUser, '.app');\r\n        admin.init();\r\n      }\r\n    }\r\n  };\r\n\r\n  popup.addEventListener('click', clickHandler);\r\n};\r\n","__webpack_require__.h = function() { return \"157c0c35e51d8effacf6\"; }"],"sourceRoot":""}