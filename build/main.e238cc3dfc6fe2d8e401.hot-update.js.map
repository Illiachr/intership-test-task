{"version":3,"sources":["webpack:///./module/appTemplate/appTemplate.js","webpack:///webpack/runtime/getFullHash"],"names":["appTemplate","selector","app","document","querySelector","template","loader","lds","body","append","insertAdjacentHTML","getList","modalTemplates","classList","add","userList","getData","res","status","json","data","forEach","obj","parsedData","JSON","parse","item","id","value","name","role","type","push","console","log","Error","warn","remove","showGrid","userAuth"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASA,WAAT,CAAqBC,QAArB,EAA+B;AAC5C,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuBH,QAAvB,CAAZ;AACA,MAAMI,QAAQ,gaAAd;AAUA,MAAMC,MAAM,GAAGC,gDAAG,EAAlB;AACAJ,UAAQ,CAACK,IAAT,CAAcC,MAAd,CAAqBH,MAArB,EAb4C,CAc5C;;AACAJ,KAAG,CAACQ,kBAAJ,CAAuB,WAAvB,EAAoCL,QAApC;AACAM,SAAO,CAACL,MAAD,EAASJ,GAAT,CAAP,CAhB4C,CAkB5C;;AACAU,0DAAc,GAnB8B,CAoB5C;AACD;;SAEcD,O;;EAwBf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;qEA3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuBL,kBAAvB,2DAAgC,IAAhC;AAAsCJ,eAAtC;;AACE,gBAAII,MAAJ,EAAY;AAAEA,oBAAM,CAACO,SAAP,CAAiBC,GAAjB,CAAqB,QAArB;AAAiC;;AACzCC,oBAFR,GAEmB,EAFnB;AAAA;AAAA;AAAA,mBAIsBC,8DAAO,CAAC,OAAD,CAJ7B;;AAAA;AAIUC,eAJV;;AAAA,kBAKQA,GAAG,CAACC,MAAJ,KAAe,GALvB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAMyBD,GAAG,CAACE,IAAJ,EANzB;;AAAA;AAMYC,gBANZ;AAOMA,gBAAI,CAACC,OAAL,CAAa,UAAAC,GAAG,EAAI;AAClB,kBAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWH,GAAG,CAACF,IAAf,CAAnB;AACA,kBAAMM,IAAI,GAAG;AAAEC,kBAAE,EAAEL,GAAG,CAACK,EAAV;AAAcC,qBAAK,EAAEL,UAAU,CAACM,IAAhC;AAAsCC,oBAAI,EAAEP,UAAU,CAACQ;AAAvD,eAAb;AACAhB,sBAAQ,CAACiB,IAAT,CAAcN,IAAd;AACD,aAJD;AAKAO,mBAAO,CAACC,GAAR,CAAYnB,QAAZ;AAZN;AAAA;;AAAA;AAAA,kBAamB,IAAIoB,KAAJ,CAAU,wBAAV,CAbnB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAeIF,mBAAO,CAACG,IAAR;;AAfJ;AAAA;;AAiBI,gBAAI9B,MAAJ,EAAY;AAAEA,oBAAM,CAACO,SAAP,CAAiBwB,MAAjB,CAAwB,QAAxB;AAAoC;;AAClDnC,eAAG,CAACW,SAAJ,CAAcC,GAAd,CAAkB,QAAlB;AACAwB,8DAAQ;AACRC,2DAAQ,CAAC,OAAD,EAAUxB,QAAV,CAAR;AApBJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;;;;;;;;;WC9BA,oCAAoC,+BAA+B,E","file":"main.e238cc3dfc6fe2d8e401.hot-update.js","sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport showGrid from '../showGrid';\r\nimport modalTemplates from './modalTemplates';\r\nimport userAuth from '../login';\r\nimport lds from './loader';\r\nimport { getData } from '../../apiUtils.js/apiUtils';\r\n\r\nexport default function appTemplate(selector) {\r\n  const app = document.querySelector(selector);\r\n  const template = ` <div class=\"controls\">\r\n            <h2 class=\"title\">Calendar</h2>\r\n            <div id=\"filter\"></div>\r\n            <button class=\"btn js-modal-open\" data-type=\"add-event\" data-modal=\"modal-event\">\r\n                <span>New event</span>\r\n                <span class=\"fas fa-plus\"></span>\r\n            </button>            \r\n        </div>\r\n        <div class=\"calendar-grid\">\r\n        </div>`;\r\n  const loader = lds();\r\n  document.body.append(loader);\r\n  // loader.classList.add('active');\r\n  app.insertAdjacentHTML('beforeend', template);\r\n  getList(loader, app);\r\n\r\n  // showGrid();\r\n  modalTemplates();\r\n  // userAuth('login');\r\n}\r\n\r\nasync function getList(loader = null, app) {\r\n  if (loader) { loader.classList.add('active'); }\r\n  const userList = [];\r\n  try {\r\n    const res = await getData('users');\r\n    if (res.status === 200) {\r\n      const data = await res.json();\r\n      data.forEach(obj => {\r\n        const parsedData = JSON.parse(obj.data);\r\n        const item = { id: obj.id, value: parsedData.name, role: parsedData.type};\r\n        userList.push(item);\r\n      });\r\n      console.log(userList);\r\n    } else { throw new Error('Network status not 200'); }\r\n  } catch (err) {\r\n    console.warn(err);\r\n  } finally {\r\n    if (loader) { loader.classList.remove('active'); }\r\n    app.classList.add('active');\r\n    showGrid();\r\n    userAuth('login', userList);\r\n  }\r\n}\r\n\r\n// function getList() {\r\n//  if (loader) { loader.classList.add('active'); }\r\n//   getData('users')\r\n//     .then(res => {\r\n//       if (res.status !== 200) { throw new Error('Network status not 200'); }\r\n//       return res.json();\r\n//     })\r\n//     .then(data => {\r\n//       console.log(data);\r\n//       const list = [];\r\n//       data.forEach(obj => {\r\n//         const item = { id: obj.id, ...JSON.parse(obj.data) };\r\n//         list.push(item);\r\n//       });\r\n//       console.log(list);\r\n//       // const users = getList(data);\r\n//       // console.log(users);\r\n//     })\r\n//     .catch(err => console.warn(err));\r\n// }\r\n","__webpack_require__.h = function() { return \"13ece99778194bd36808\"; }"],"sourceRoot":""}